<!DOCTYPE html>
<html>
<head>
  <title>Projects</title>
  <link rel="stylesheet" crossorigin="anonymous" href="src/css/index.css"/>
  <link rel="stylesheet" crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link Â rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" 
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
  <body>
  <header>
    <h1>Projects</h1>
    <div class="social-links">
      <a href="https://www.linkedin.com/in/tochi-okiyi-ba5344123/" target="_blank">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://github.com/okiyitooo/" target="_blank">
        <i class="fab fa-github"></i>
      </a>
    </div>
  </header>
  <div class="container">
    <div class="projects-row" id="projects-container"></div>
  </div>
  <a href="resume.pdf" download id="download-resume">Download Resume</a>

  <script>
    const header = document.querySelector('header');

    for (let i = 0; i < 30; i++) {
      const particle = document.createElement('div');
      particle.classList.add('particle');
    
      // Randomize size
      const size = Math.random() * 50 + 5; // 5px to 55px
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
    
      // Randomize horizontal position
      particle.style.left = `${Math.random() * 100}%`;
    
      // Randomize animation duration (speed)
      const duration = Math.random() * 10 + 5; // 5s to 15s
      particle.style.animationDuration = `${duration}s`;
    
      // Randomize vertical destination within the header
      const headerHeight = header.clientHeight; 
      const destinationY = Math.random() * headerHeight; 
      particle.style.animationName = `particleAnimation-${i}`; 
    
      // Create a unique @keyframes rule for each particle
      const styleSheet = document.styleSheets[0]; // Get the first stylesheet
      const keyframesRule = `@keyframes particleAnimation-${i} {
        0% {
          transform: translateX(0) translateY(0) scale(0);
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: translateX(100vw) translateY(${destinationY}px) scale(1.5);
          opacity: 0;
        }
      }`;
      styleSheet.insertRule(keyframesRule, styleSheet.cssRules.length);
    
      header.appendChild(particle);
    }
    fetch('projects.json')
      .then(response => response.json())
      .then(projects => {
        const container = document.getElementById('projects-container');
        projects.forEach(project => {
          const link = document.createElement('a');
          link.id = 'a'; 
          const sanitizedTags = project.tags.map(tag => tag.replace(/ /g, '-')); 
          link.classList.add('searchpod', ...sanitizedTags);
          link.href = project.website;
          link.target = '_blank';

          link.innerHTML = `
            <div class="card">
              <h5 class="card-header">${project.name}</h5>
              <div class="card-body">
                <p class="card-text">${project.comments}</p>
              </div>
            </div>
          `;

          container.appendChild(link);
        });
      })
      .catch(error => console.error('Error fetching projects:', error));
  </script>
</body>
</html>
